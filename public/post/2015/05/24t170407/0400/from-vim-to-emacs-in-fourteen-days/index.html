<!doctype html>

<html lang="en-us">

<head>
  <title>My New Hugo Site</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="The HTML5 Herald" />
  <meta name="author" content="" /><meta name="generator" content="Hugo 0.60.1" />
    

  <meta property="og:title" content="escaping the tar pit" />
<meta property="og:description" content="If you don&#39;t know by now, I&#39;m sort of a personal efficiency maven. I don&#39;t like to waste keystrokes, I&#39;m always experimenting with different key bindings and shortcuts, and I feel almost personally offended when I see someone reach for their mouse to click a button that I know has a keyboard equivalent.
But this isn&#39;t about my pet peeves; this is about tuning yourself in to the improvements you can make on a daily basis that will increase your lifetime efficiency dramatically." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/post/2016/04/07t064259/0400/escaping-the-tar-pit/" />
<meta property="article:published_time" content="2016-04-07T06:42:59-04:00" />
<meta property="article:modified_time" content="2016-04-07T06:42:59-04:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="escaping the tar pit"/>
<meta name="twitter:description" content="If you don&#39;t know by now, I&#39;m sort of a personal efficiency maven. I don&#39;t like to waste keystrokes, I&#39;m always experimenting with different key bindings and shortcuts, and I feel almost personally offended when I see someone reach for their mouse to click a button that I know has a keyboard equivalent.
But this isn&#39;t about my pet peeves; this is about tuning yourself in to the improvements you can make on a daily basis that will increase your lifetime efficiency dramatically."/>


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" />
  <script src="https://kit.fontawesome.com/b76b73e8e8.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  <link rel="stylesheet" type="text/css" href="/css/styles.css" /></head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="/">My New Hugo Site</a>
            </h1>

      <ul id="social-media">
      </ul>
      
    </header>

    
<nav>
    <ul>
        
    </ul>
</nav>

    <main>




<article>

    <h1>from vim to emacs in fourteen days</h1>

    
        <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2015-05-24T17:04:07-04:00">May 24, 2015</time>
        </li>
        

        

        <li>10 minutes read</li>
    </ul>
</aside>

    

    <p>Yes, my friends, it is true. After more than fifteen years using Vim, teaching
Vim, proselytizing about Vim, all the while scoffing in the general direction of
Emacs, I've seen the light. The light of Lisp&hellip; Or something.</p>
<p>If, like me, you're curious enough to give Emacs a try, this post should help
you get off the ground.</p>
<p>It's taken me at least the fourteen days described in the title, but with my
help it should only take you two or three. There are some things to get used to,
some new paradigms, and you have to learn a bit of Lisp (Elisp, actually), but
don't be afraid, it's not that hard.<del>MORE</del></p>
<h2 id="step-1-get-emacs">Step 1: Get Emacs</h2>
<p>Emacs is available on all major platforms. For Linux OSes, you can get Emacs
from your package manager du jour, i.e. <code>apt-get install emacs</code>. There are also
Linux and Windows builds available through a
<a href="http://ftpmirror.gnu.org/emacs/">local GNU mirror</a> (this link will redirect to
a mirror close to you, in theory).</p>
<p>For OS X (presumptuously the only reason you'd read this section&hellip;), you have
at least four choices:</p>
<ul>
<li><a href="http://emacsformacosx.com/">&ldquo;GNU Emacs for Mac OS X&rdquo;</a>, which is a
pre-built binary in common OS X dng format, ready to go. I believe it is
version 24.5 at the time of this writing.</li>
<li>The default Homebrew build, <code>brew install emacs</code>, which of course is available
in both its trunk form and with <code>--use-git-head</code> or <code>--HEAD</code> to get a more
bleeding-edge version.</li>
<li>Yamamoto Mitsuharu's experimental &ldquo;Mac port&rdquo; version, which adds (better)
native GUI support, from a custom tap. Run <code>brew tap railwaycat/emacsmacport</code>
and then <code>brew install emacs-mac</code> to get it; this one also has the typical
<code>--HEAD</code> option available.</li>
<li>Finally, there is <a href="http://aquamacs.org/">Aquamacs</a>, which claims to bring more
of the Aqua-style chrome to Emacs. In spite of being a moderate OS X fanboy I
find this offensive and haven't tried it myself.</li>
</ul>
<p>Each build will be a slightly different version of Emacs, with the pre-built
binaries tending toward stable trunk releases and the brew versions somewhat
newer. There are a few small differences in the way they handle key codes (the
Mac port version remaps &ldquo;super&rdquo; to &ldquo;alt&rdquo;, which means the Mac command key acts
as alt; you may or may not like that). You can install all of them and try them
out; they will all load your config seamlessly.</p>
<h2 id="learn-the-basics">Learn the Basics</h2>
<p>There are just a few essential keys you need to know to get started using Emacs
in its bare form. Most of the default key mappings in Emacs are a sequence of
control key presses, so, for example, <code>C-x C-c</code> means to press &ldquo;control&rdquo; and
&ldquo;x&rdquo;, then press &ldquo;control&rdquo; and &ldquo;c&rdquo;.</p>
<p>In Emacs notation, which I will use here, <code>RET</code> means return (or &ldquo;enter&rdquo;), and
<code>M</code> means &ldquo;meta&rdquo; or &ldquo;alt&rdquo;. Depending on the build of Emacs you are using and
what your keyboard layout is, the physical key may vary; try each potential key
until you get the expected result.</p>
<ul>
<li><code>C-x C-c</code>: quit Emacs. As all new Vim users must first learn <code>:q&lt;CR&gt;</code>, so must
new Emacs users learn this bizarre key chord.</li>
<li><code>C-g</code>: cancel. This is the one piece of muscle memory you really need to
acquire; even once you have re-mapped <code>escape</code> to quit from 90% of
circumstances, there will remain some where only <code>C-g</code> will get you out. Just
learn it, use it, love it.</li>
<li><code>M-x</code>: execute extended command. This is the gateway to a lot of the
sophisticated stuff you can accomplish interactively in Emacs; it allows you
to run any Elisp function by name. More on this later.</li>
<li><code>C-h ?</code>: help about help. This chord opens a list of potential help topics,
each of which has its own direct mapping accessible through e.g. <code>C-h t</code>,
which opens the Emacs tutorial.</li>
</ul>
<p>Those are the only native mappings you really need to know to get started. If
you press some chord and something crazy happens, you can try backing out of it
with <code>C-g</code>, and to learn what the chord does you can ask Emacs for help about
the key by pressing <code>C-h k</code> and then pressing the key or chord in question.</p>
<p>One of the nicest things about Emacs is that it's self-documenting. If you want
to know what <code>C-x C-c</code> does, you can simply press <code>C-h k</code> to ask for help about
a key and then press <code>C-x C-c</code>. Emacs will open the documentation for the
function that the key is mapped to, and 99% of Emacs functions are documented.
There are other ways to learn about mappings that we'll talk about later.</p>
<p>All mappings, and by this I mean <em>all</em> mappings, can be re-mapped. You may take
the time to re-map the ones you use a lot (for example, I created a <code>&lt;leader&gt;x</code>
mapping for <code>M-x</code>), or you may live with the Emacs defaults; that is a choice
each must make on their own.</p>
<h2 id="configure-your-environment">Configure Your Environment</h2>
<p>Configuring Emacs is easily as involved as configuring Vim, if not more
so. Unlike Vim, however, Emacs ships with an interactive configuration tool that
you can use as a beginner to configure basic settings without having to plumb
the depths of Emacs&rsquo; numerous variables and functions. We'll get to that
later. First, get a barebones config started.</p>
<p>Step one is to make yourself a home for your config, if your package of choice
didn't create one for you:</p>
<ul>
<li>Create the directory <code>~/.emacs.d</code></li>
<li>Create the file <code>~/.emacs</code></li>
</ul>
<p>Open <code>~/.emacs</code> in your favorite editor and paste in this nonsense, which,
sooner or later, will seem quite simple and obvious to you:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cl" data-lang="cl">(<span style="color:#a6e22e">require</span> <span style="color:#e6db74">&#39;package</span>)
 
(add-to-list <span style="color:#e6db74">&#39;package-archives</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;org&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;http://orgmode.org/elpa/&#34;</span>))
(add-to-list <span style="color:#e6db74">&#39;package-archives</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;melpa&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;http://melpa.org/packages/&#34;</span>))
(add-to-list <span style="color:#e6db74">&#39;package-archives</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;melpa-stable&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;http://stable.melpa.org/packages/&#34;</span>))
 
(<span style="color:#66d9ef">setq</span> package-enable-at-startup <span style="color:#66d9ef">nil</span>)
(package-initialize)
</code></pre></div><p>The above code loads the built-in package manager (&ldquo;package&rdquo;) and adds a couple
of popular Emacs package repositories to the list of available repositories so
that we can install the latest and greatest versions of modern Emacs packages,
which are analogous to Vim plug-ins.</p>
<p>Start Emacs. You should now be able to press <code>M-x</code> to get a prompt at the bottom
of the frame. Type the command <code>package-list-packages RET</code>. Tab completion
works in that prompt, so feel free to use it to confirm that Emacs can find the
function. Emacs will connect to the Internet to download package lists and open
a window listing the packages available.</p>
<p>This part gets sticky because you need to use default Emacs key mappings to
navigate the package list, so let's just quit the buffer now that we have the
package lists updated. Press <code>q</code>.</p>
<h2 id="install-evil-mode">Install Evil Mode</h2>
<p>Finally, install <code>evil-mode</code>, the Vim emulation package for Emacs, by typing
<code>M-x package-install RET evil-mode RET</code>. A second window will open and a lot of
stuff will happen in it as the package is downloaded and compiled into Emacs
bytecode. Emacs packages tend to emit a lot of compiler warnings, which you can
safely ignore. When it's through, <code>evil-mode</code> should be installed. Let's turn it
on.</p>
<p>Type <code>M-x evil-mode RET</code>. You can now type <code>:qa</code> to quit all windows and close
Emacs.</p>
<p>If all of that works, you're ready to start building your Emacs configuration
empire, and the very first thing you'll probably want to do is use <code>evil-mode</code>
by default.</p>
<p>{% infobox %}
A &ldquo;mode&rdquo; in Emacs is similar to Vim's notion of a &ldquo;filetype.&rdquo; A mode usually
provides syntax highlighting and indentation rules, keyboard mappings, and other
functionality useful for a particular type of task.</p>
<p>Your &ldquo;major mode&rdquo; is the mode that typically defines the type of work you're
doing, which is often associated with the filetype you're editing; you can only
use one major mode at a time.</p>
<p>Emacs packages may also provide &ldquo;minor modes,&rdquo; of which you may load as many as
you like. Examples of useful minor modes are &ldquo;flycheck,&rdquo; which gives you syntax
checking, or &ldquo;projectile,&rdquo; which provides functions for working with
source-controlled projects, or &ldquo;magit,&rdquo; which gives you interactive git commands.
{% endinfobox %}</p>
<p>To tell Emacs to use <code>evil-mode</code> immediately upon opening in all buffers, you
simply load the package into memory and call the main mode function, which is
conveniently named <code>evil-mode</code>. Add this to your <code>~/.emacs</code> file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cl" data-lang="cl">(<span style="color:#a6e22e">require</span> <span style="color:#e6db74">&#39;evil</span>)
(evil-mode <span style="color:#66d9ef">t</span>)
</code></pre></div><p>If you are editing your <code>.emacs</code> file in Emacs, you can find out what those
functions do by placing your cursor over the word &ldquo;require,&rdquo; for example, and
pressing <code>C-h f</code> to open the &ldquo;help for functions&rdquo; prompt; the word under the
cursor will be placed into the prompt for you. Press enter and a split window
will open containing the definition of the function.</p>
<p>Try it for <code>evil-mode</code> as well. To close the split window you should be able to
use the typical Vim key <code>C-w o</code> (&ldquo;only this&rdquo; window). The Emacs key to do the
same thing is <code>C-x 1</code>, because that makes sense&hellip;</p>
<h2 id="taking-the-helm">Taking the Helm</h2>
<p>One of the most popular packages available for Emacs is called Helm. It is
described simply as &ldquo;Emacs incremental and narrowing framework,&rdquo; which doesn't
at first seem tremendously useful, but what it actually provides is the ability
to display a list of values that is narrowed down as you type, similar to
something like Vim's CtrlP implementation or Sublime Text's fuzzy search.</p>
<p>Now, Helm doesn't actually search your project files or anything. No, it simply
provides a framework for displaying an interactively narrowed list of
things. But the staggeringly cool thing about it is that when it is installed,
suddenly all of the Emacs default selection functions become interactive
lists. Everything from <code>M-x</code> to <code>package-install</code> will become narrowing lists
just like CtrlP.</p>
<p>Let's install it!</p>
<h2 id="automatically-installing-packages">Automatically Installing Packages</h2>
<p>This is a perfect time to talk about how to maintain a list of packages that you
always want installed. There are a lot of different ways to do this, but here is
a quite simple one that you can immediately start using.</p>
<p>Since the Emacs <code>package.el</code> package manager is built into Emacs, you don't need
anything like Vundle or Neobundle or Pathogen, all you need to do is call
<code>package-install</code> on every package that isn't yet installed. This is easy to
write in Elisp.</p>
<p><strong>Update (December, 2016)</strong>: I no longer recommend manually hacking this package
stuff into your config as shown down below (preserved for posterity). Instead, I
recommend using the awesome <code>use-package</code> package by John Wiegley.</p>
<p>You must first set up your <code>package.el</code> configuration as you would in any case
(by configuring the repositories you would like to use, and so forth), but then
you can bootstrap the whole system with this simple snippet:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cl" data-lang="cl">(unless (package-installed-p <span style="color:#e6db74">&#39;use-package</span>)
  (package-refresh-contents)
  (package-install <span style="color:#e6db74">&#39;use-package</span>))

(eval-when-compile
  (<span style="color:#a6e22e">require</span> <span style="color:#e6db74">&#39;use-package</span>))
</code></pre></div><p>Then configure all of your packages using <code>use-package</code> forms as described in
<a href="https://github.com/jwiegley/use-package">the documentation</a>. Any package with
the keyword <code>:ensure</code> set to <code>t</code> will be downloaded from a remote repository.</p>
<p>The simplest example is something like:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cl" data-lang="cl">(<span style="color:#a6e22e">use-package</span> markdown-mode
  <span style="color:#e6db74">:ensure</span> <span style="color:#66d9ef">t</span>)
</code></pre></div><p>The <code>use-package</code> system is capable of a whole lot more, and it's allowed me to
clean up and modularize most of my configuration while also optimize my Emacs
startup time. I strongly recommend giving it a shot.</p>
<p><strong>Deprecated advice below</strong>, continue at your own peril.</p>
<p>There are several ways to do this, but the simplest seems to be <a href="http://stackoverflow.com/a/10095853/580206">this Stack
Overflow answer</a>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cl" data-lang="cl">(defun ensure-package-installed (<span style="color:#66d9ef">&amp;rest</span> packages)
  <span style="color:#e6db74">&#34;Assure every package is installed, ask for installation if itâ€™s not.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">Return a list of installed packages or nil for every skipped package.&#34;</span>
  (<span style="color:#a6e22e">mapcar</span>
   (lambda (<span style="color:#a6e22e">package</span>)
     (<span style="color:#66d9ef">if</span> (package-installed-p <span style="color:#a6e22e">package</span>)
         <span style="color:#66d9ef">nil</span>
       (<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">y-or-n-p</span> (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;Package %s is missing. Install it? &#34;</span> <span style="color:#a6e22e">package</span>))
           (package-install <span style="color:#a6e22e">package</span>)
         <span style="color:#a6e22e">package</span>)))
   packages))

<span style="color:#75715e">;; Make sure to have downloaded archive description.</span>
(or (file-exists-p package-user-dir)
    (package-refresh-contents))

<span style="color:#75715e">;; Activate installed packages</span>
(package-initialize)

<span style="color:#75715e">;; Assuming you wish to install &#34;iedit&#34; and &#34;magit&#34;</span>
(ensure-package-installed <span style="color:#e6db74">&#39;iedit</span> <span style="color:#e6db74">&#39;magit</span>)
</code></pre></div><p>If you add this to your <code>~/.emacs</code>, simply starting Emacs will prompt you for
any packages you wish to install that are not already installed. You can expand
the call to <code>ensure-package-installed</code> quite easily, and Elisp cares not about
spacing, so you can even organize it like:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cl" data-lang="cl">(ensure-package-installed <span style="color:#e6db74">&#39;evil</span>
                          <span style="color:#e6db74">&#39;projectile</span>
                          <span style="color:#e6db74">&#39;magit</span>)
</code></pre></div><h2 id="congratulations">Congratulations</h2>
<p>If you've made it this far, you're probably ready to begin exploring on your
own. I'll keep posting updates as I have time to collate my thoughts and
experiences, or feel free to reach out with questions by using the commenting
feature below.</p>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="http://example.org/post/2015/01/17/learning-to-love-emacs/"><i class="fa fa-chevron-circle-left"></i> learning to love emacs</a>
        </li>
        
        
        <li>
            <a href="http://example.org/post/2015/05/25t215817/0400/dont-be-typecast-by-php/">dont be typecast by php <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
    





</main>
    <footer>
        <h6> |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="http://example.org/index.xml">Subscribe </a></h6>
    </footer>
</div>
<script src="/js/scripts.js"></script>

</body>

</html>

